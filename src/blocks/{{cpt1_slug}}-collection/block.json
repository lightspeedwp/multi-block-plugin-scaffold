{
  "apiVersion": 3,
  "name": "{{namespace}}/{{cpt1_slug}}-collection",
  "title": "{{CPT1 Collection}}",
  "category": "widgets",
  "icon": "screenoptions",
  "description": "A collection block for displaying {{cpt1_slug}} items. Extensible and supports custom collection registration and DOM events.",
  "keywords": ["collection", "list", "{{cpt1_slug}}", "query", "posts", "extensible", "event", "filter", "sort"],
  "textdomain": "{{textdomain}}",
  "attributes": {
    "postsToShow": { "type": "number", "default": 6 },
    "columns": { "type": "number", "default": 3 },
    "displayFeaturedImage": { "type": "boolean", "default": true },
    "displayTitle": { "type": "boolean", "default": true },
    "displayExcerpt": { "type": "boolean", "default": false },
    "displayMeta": { "type": "boolean", "default": false },
    "collectionType": { "type": "string", "default": "default" },
    "filters": { "type": "object", "default": {} },
    "sort": { "type": "string", "default": "date-desc" },
    "search": { "type": "string", "default": "" },
    "pagination": { "type": "boolean", "default": true },
    "page": { "type": "number", "default": 1 },
    "eventHandlers": {
      "type": "object",
      "default": {},
      "description": "Map of DOM event names to handler function names (for extensibility)."
    },
    "registeredCollections": {
      "type": "array",
      "default": [],
      "description": "Registered custom collection types (extensible via JS API)."
    }
  },
  "supports": {
    "html": false,
    "align": ["wide", "full"],
    "anchor": true,
    "customClassName": true,
    "spacing": { "margin": true, "padding": true },
    "color": { "background": true, "text": true }
  },
  "providesContext": {
    "{{namespace}}/collectionType": "collectionType"
  },
  "usesContext": ["postType", "taxonomy", "queryId"],
  "example": {
    "attributes": {
      "postsToShow": 3,
      "columns": 3,
      "displayFeaturedImage": true,
      "displayTitle": true,
      "displayExcerpt": true,
      "displayMeta": true,
      "collectionType": "default",
      "filters": { "category": "news" },
      "sort": "date-desc",
      "pagination": true,
      "page": 1,
      "eventHandlers": {
        "collectionInit": "onCollectionInit",
        "collectionFilter": "onCollectionFilter",
        "collectionSort": "onCollectionSort",
        "collectionPageChange": "onCollectionPageChange",
        "collectionRegister": "onCollectionRegister"
      },
      "registeredCollections": [
        { "name": "default", "label": "Default" },
        { "name": "featured", "label": "Featured" }
      ]
    }
  },
  "editorScript": "file:./index.js",
  "editorStyle": "file:./editor.css",
  "style": "file:./style.css",
  "render": "file:./render.php"
}
